<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("head_layout",{title:"Dashboard"}) %>
    <script src="/javascripts/deletePost.js" defer></script>
    <script src="/javascripts/deleteComment.js" defer></script>
</head>
<body>
    <%- include("./components/header") %>
    <h1>Dashboard</h1>
    <main>
        <form action="" method="get">
            <fieldset>
                <legend>Ordenar lista</legend>
                <div class="sortTypeContainer">
                    <%- include("./components/sortRadio",{id:"dateSort",name:"sortType",
                    value:"date",label:"Fecha de creacion",sortType:sortType}) %>
                    <%- include("./components/sortRadio",{id:"pointSort",name:"sortType",
                    value:"point",label:"Cantidad de puntos",sortType:sortType}) %>
                </div>
                <div class="sortOrder">
                    <%- include("./components/sortRadio",{id:"ascendingOrder",name:"sortOrder",
                    value:"1",label:" Ascendente",sortType:sortOrder}) %>
                    <%- include("./components/sortRadio",{id:"descendingOrder",name:"sortOrder",
                    value:"-1",label:" Descendente",sortType:sortOrder}) %>
                </div>
            </fieldset>
            <button type="submit">Ordenar</button>
        </form>
        <div class="userActions">
            <div class="postsContainer">
                <h2>Posts realizados</h2>
                <% if (posts.length > 0) { %>
                    <ul>
                        <% posts.forEach(post => { %>
                            <%- include("./components/postItem",{post,dashboard:true}) %>
                        <% }) %>
                    </ul>
                <% }else{ %>
                    <p>No se han realizado posts</p>
                <% } %>
            </div>
            <div class="commentsContainer">
                <h2>Comentarios realizados</h2>
                <% if (comments.length > 0) { %>
                    <ul>
                        <% comments.forEach(comment => { %>
                            <%- include("./components/commentItem",{comment,dashboard:true}) %>
                        <% }) %>
                    </ul>
                <% }else{ %>
                    <p>No se han realizado comentarios</p>
                <% } %>
            </div>
        </div>
    </main>
</body>
</html>